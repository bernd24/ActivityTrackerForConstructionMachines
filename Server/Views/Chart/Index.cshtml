@{
    ViewData["Title"] = "Charts";
}

@* ***********body***************** *@
<div class="container flexbox-container">
  <div class="flexbox-item flexbox-item-1">
    @*  here should be the name of the User *@
    <h1> Hello, Manager(Peter) </h1> 
  </div>
  @* ******************chart.js******https://www.chartjs.org/docs/latest/ *@
  <div class="flexbox-item flexbox-item-2">
    <canvas id="myLineChart" ></canvas>
  </div>
  <div class="flexbox-item flexbox-item-3">
    <canvas id="myDoughnutChart" ></canvas>
  </div>
  <div class="flexbox-item flexbox-item-3">
    <canvas id="myAreaChart" ></canvas>
  </div>
  <div class="flexbox-item flexbox-item-3">
    <canvas id="mySteppedLineChart" ></canvas>
  </div>

  <div class="flexbox-item flexbox-item-3">
    <!-- Section: Timeline -->
    <h2 class="fw-bold">Excavator 1</h2>
    <section class="py-5">
      <h2 class="fw-bold">Timeline</h2>
      <h5 >14.09.2022 (Tim Mueller)</h5>
      <ul class="timeline-with-icons">
        <li class="timeline-item mb-5">
          <span class="timeline-icon">
            <i class="fas fa-rocket text-primary fa-sm fa-fw"></i>
          </span>

          <h5 class="fw-bold">Ideling</h5>
          <p class="text-muted mb-2 fw-bold">07:30</p>
        </li>

        <li class="timeline-item mb-5">
          <span class="timeline-icon">
            <i class="fas fa-hand-holding-usd text-primary fa-sm fa-fw"></i>
          </span>
          <h5 class="fw-bold">Moving</h5>
          <p class="text-muted mb-2 fw-bold">08:30</p>
        </li>

        <li class="timeline-item mb-5">

          <span class="timeline-icon">
            <i class="fas fa-users text-primary fa-sm fa-fw"></i>
          </span>
          <h5 class="fw-bold">Digging</h5>
          <p class="text-muted mb-2 fw-bold">11:30</p>
        </li>

        <li class="timeline-item mb-5">
          <span class="timeline-icon">
            <i class="fas fa-money-bill-wave text-primary fa-sm fa-fw"></i>
          </span>
          <h5 class="fw-bold">shutdown</h5>
          <p class="text-muted mb-2 fw-bold">13:00</p>
        </li>

         <li class="timeline-item mb-5">
          <span class="timeline-icon">
            <i class="fas fa-money-bill-wave text-primary fa-sm fa-fw"></i>
          </span>
          <h5 class="fw-bold">digging</h5>
          <p class="text-muted mb-2 fw-bold">15:00</p>
        </li>
      </ul>
    </section>
    <!-- Section: Timeline -->

  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
   var model = @Html.Raw(Json.Serialize(Model));

    var data = {
    labels: model[0].timestamps,
    datasets: [
        @*, {
        label: 'Cubic interpolation',
        data: datapoints,
        borderColor: 'rgb(255, 99, 132)',
        fill: false,
        tension: 0.4
        }, {
        label: 'Linear interpolation (default)',
        data: datapoints,
        borderColor: 'rgb(200, 99, 50)',
        fill: false
        }*@
    ]
    };
    colors = ['rgb(100, 99, 132)','rgb(255, 99, 132)','rgb(200, 99, 50)'];
    i = 0;
    model.forEach(m =>
      data.datasets.push({
        label: m.sensorName,
        data: m.datapoints,
        borderColor: colors[i++],
        //  @* borderColor: Utils.CHART_COLORS.blue,     this shit is not working  Utils file is not there https://github.com/chartjs/Chart.js/blob/master/docs/scripts/utils.js*@  
        //  @* but i dont think we need that *@
        fill: false,
        cubicInterpolationMode: 'monotone',
        tension: 0.4
        })
    );

  const config = {
    type: 'line',
    data: data,
    options: {}
  };

    const myChart = new Chart(
    document.getElementById('myLineChart'),
    config 
  );
</script>

